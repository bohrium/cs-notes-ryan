\documentclass{article}
\usepackage[top=1.2in,bottom=1.2in,left=1.2in,right=1.2in]{geometry}
\usepackage{amsmath, amssymb, xcolor}

\newcounter{qcounter}
\newcommand{\quest}[3]{%
    \par\noindent\hspace{-1cm}
    \textbf{\theqcounter\refstepcounter{qcounter}. #1.}
    \samepage{#2}
    ------ \textsc{twist}: {#3}
}

\newcommand{\cd}{\texttt}
\newcommand{\real}{{\color{green}$\star$\ }}
\newcommand{\hard}{{\color{red}\textbf{!}\ }}

\begin{document}
    Ryan, these $21$ questions are for practice.  A 45 minute technical
    interview might have three such questions.  Questions marked with \real are
    (inspired by) actual ones I've gotten.  Questions marked with \hard are
    especially challenging; I wouldn't expect more than one in an interview.
    Each question has a main version as well as a followup twist that an
    interviewer might ask upon satisfactory solution of the main version.  It
    might be good to avoid reading these yourself, instead asking Chloe to draw
    randomly from these questions during a practice interview.

    Questions of the form \emph{determine xyz given abc} stand for
    \emph{construct a program that determines xyz given abc}.  Also implicit is
    the expectation that you explain what assumptions you make and that you
    offer an informal complexity analysis for each solution.  For example, you
    may want to remark on your assumptions about the types and probability
    distribution of input data and on which parameters you regard as
    asymptotically large.

    \quest{\real legal parentheses}{%
        check whether a given string of \cd{(}s and \cd{)}s is well-formed.%
    }{%
        what if we permit both round and square brackets?
        we regard \cd{([)]} as ill-formed.%
    }
    \quest{popularity contest}{%
        from a non-empty list of names identify the name(s) of greatest
        frequency.
    }{%
        identify the $10^4$ most frequently occuring names (assumed
        unique) from a list of length $10^6$.   
    }
    \quest{justify text}{%
        a paragraph is a list $(x_i: 0\leq i<N)$ of words with natural widths
        $w_i$.  we segment a paragraph into lines and slightly stretch each
        word.  precisely, we choose indices $(i_j: 0\leq j<J)$ of the first
        word in each $j$th line as well as a stretch amount $(\rho_i \in
        [-0.1, +0.1]: 0\leq i<N)$ for each word.
        %
        we then render the $i$th word at width $(1+\rho_i) w_i$ so that each
        line fits, i.e., so that the excess $e_j = W - \sum_{l_j \leq i <
        l_{j+1}} (1+\rho_i) w_i$ is non-negative.  determine $\rho_i$, $J$,
        and $l_j$ that minimize the \emph{distortion} $D = \sum_j e_j^3 +
        \lambda \sum_i \rho_i^2$.
    }{%
        in a greedy approach, we set $l_1$ and $(\rho_i:l_0\leq i<l_1)$ to
        minimize the distortion $e_0^3 + \lambda \sum_{l_0\leq i<l_1} \rho_i^2$ 
        of the first line, then repeat.  is this greedy approach 
        suboptimal? 
    }
    \quest{missing numbers}{%
        given a length-$(n-1)$ array $L$ containing distinct integers in the
        range $R = [0,n)$, determine the element of $R$ not in $L$.% 
    }{%
        what if $L$ misses two elements of $R$?%
    }
    \quest{viola jones}{%
        imagine a 2d $H\times W$ array of \cd{float}s, some negative.  find a
        contiguous sub-array (specified by a corner $(r,c)$ a shape $h \times
        w$ with $r+h\leq H, c+w\leq W$) whose elements have greatest sum?%
    }{%
        what if we wish to maximize the \emph{product}?% 
    }
    \quest{\real merge sort}{%
        implement merge sort.%
    }{%
        compare merge sort with some alternatives.%
    }
    \quest{\hard memory allocation}{%
        implement a memory allocator (\cd{char*
        malloc(int nb\_bytes)}, \cd{char* free(int nb\_bytes)}).  use a
        primitive \cd{char* sbrk(int nb\_kilobytes)} to request chunks of
        memory from the OS. 
    }{%
        our game in each video frame allocates many small ($4$-byte to
        $8$-byte) polygons to be freed together before the next frame.  adapt
        your memory allocator to this setting.  speed is key.%
    }
    \quest{palindromic substring}{%
        find a longest contiguous palindromic substring of a given string.% 
    }{%
        count the length-$\geq k$ contiguous palindromic substrings of a given
        string and for a given $k$.%
    }
    \quest{distinct elements}{%
        consider a type that supports a comparator with respect to which it is
        totally ordered.  determine whether a list of elements of this type
        has all elements distinct.
    }{%
        does your solution use as few comparisons as possible (asymptotically)?
    }
    \quest{\real sparse vectors}{%
        a sparse vector is a list of numbers most of which are zero.  
              implement a space-saving sparse vector type along with a dot
              product.
    }{%
        a sparse matrix is defined accordingly.  build on your vector code to
        represent and multiply large sparse matrices. 
    }
    \quest{\hard \real herding cows}{%
        a farmer tries to herd musical cows all onto some single hill in a
        set $H$ of hills.  each cow starts on a hill in $H$.  when the
        farmer blares an $s$ in a set $S$ of songs, all the cows on hill
        $h$ move to the hill $f(s,h)$.  given $H,S,f$ determine whether the
        farmer may achieve her goal by blaring some sequence of songs.%
    }{%
        what if the farmer seeks to clear a specific hill $h_\star\in H$ 
        of cows?%
    }
    \quest{super spreader}{%
        we represent the (reflexive, symmetric) `physically meets` relation on
        people by giving for each person a list of contacts.
        \emph{compute the relation's transitive closure.} choose an output
        representation that uses a reasonable amount of space.%
    }{%
        a relation's \emph{size} is the maximum among the cardinalities of
        equivalence classes of the induced equivalence relation.
        determine a node that, when removed from the graph, results in a
        relation of least size.%
    }
    \quest{\hard bipartite graph}{%
        the theory of markov chains references \emph{$k$-periodic graphs}. 
        an undirected graph is $k$-periodic if $k$ divides
        the length of every cycle.  determine whether a given graph is
        $2$-periodic.%
    }{%
        does there exist a $k\geq 2$ for which the given graph is $k$-periodic?%
    }
    \quest{\real family tree}{%
        implement a binary-tree-of-strings type.  ancestor trees are of this
        type.  we display ancestor trees in this style:
        \cd{george(katy(mike,carole),will(charlie(liz,phil),diana))}.
        compute the length of such a display.%
    }{%
        compute two people's genetic relation given their ancestor trees.
        the genetic relation of siblings is $1/2$; of cousins is
        $1/8$; of strangers is $0$; and so forth.  the two trees' nodes
        name people, and we assume people have distinct and unique names.%
    }
    \quest{\real knight tours}{%
        how many ways can a knight on an otherwise empty chessboard move in
        exactly $n$ steps from one corner to the opposite corner?% 
    }{%
        consider a simplified game of chess with three black knights, one white
        king, and no other pieces.  the knights start as close as possible to
        one corner; the king, to the opposite corner.  this game has no rules
        about draws --- no stalemate, no draw by repetition, no draw upon 50
        reversible moves.  \emph{can black force a checkmate?}%
    }
    \quest{logical consistency}{%
        fix a finite set of logical atoms.  is
        a given list of assertions,
        each of the form ${\sf p}$ or ${\sf p}\to {\sf q}$, logically consistent?  here,
        ${\sf p},{\sf
        q}$ stand for atoms or their negations.%
    }{%
        what if we also permit a small number of assertions of the form
        $({\sf p}\wedge {\sf q})\to {\sf r}$?% 
    }
    \quest{\real an evil company}{%
        a csv file is a text file representing a 2D grid of entries, with rows
        delimited by newlines and with elements of a row delimited by commas.    
        %
        each of our csv file's rows records some person's data with some store.
        its columns list: \cd{a} the store and the person's \cd{b} username at
        that store, \cd{c} email address, \cd{d} phone number, and \cd{e}
        year-of-birth.
        %
        \emph{parse the file; do some two rows represent the same person?}  use
        reasonable heuristics.%
    }{%
        suppose now that some rows have missing entries (represented by the
        string \cd{UNK}).  heuristically impute what missing entries you can.%
    }
    \quest{city hall}{%
        a new hall is to be built among a grid of streets.  we label street
        intersections by $(x,y)$ for $0\leq x,y<100$.  it takes
        $|x-x^\prime|+|y-y^\prime|$ minutes to walk from 
        $(x,y)$ to $(x^\prime, y^\prime)$.  at $(x,y)$ live
        $p(x,y)$ many residents.  place the hall at an intersection so as to
        minimize the walking time from residence to hall, averaged uniformly
        over residents.    
    }{%
        a rectangular park has northwest corner $(a,b)$ and southeast corner
        $(A,B)$.  we may not place city hall in the park.
        what then?%
    }
    \quest{\hard task scheduling}{%
        we employ three oxen on our farm: jesse, pat, and sandy.  each $t$
        in a list $T$ of tasks requires the simultaneous effort of $n_t$
        many oxen over a contiguous period of $d_t\in \mathbb{N}$ days.  a schedule
        assigns each ox-day to some task.  schedule so as to complete
        all tasks by year's end, if possible.% 
    }{%
        remark on the computational hardness of this task as we modify its
        parameters.% 
    }
    \quest{\hard graph homology}{%
        we're given a connected undirected graph $G^{0}$.  an edge $e$ is
        \emph{crucial} if removing $e$ disconnects the graph.  count the
        crucial edges.
    }{%
        determine a sequence of edges to remove that results in a longest chain
        $G^0, \cdots, G^n$ of connected undirected graphs.
    }
    \quest{\hard \real lru cache}{%
        write an lru cache that maps small strings (say, urls) to large
        strings (say, html).  that is, implement a data structure that at any
        time stores $\leq k$ many key-value pairs; that answers queries for
        whether a key is present and for its value if so; and that permits
        insertion of new key-value pair, with the least-recently
        inserted-or-queried pair removed if space is needed.%
    }{%
        show us how you would increase your confidence that your code is
        correct.%   
    }

\end{document}
